!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ackeeTracker=e()}}(function(){var e;return function e(t,n,r){function i(a,l){if(!n[a]){if(!t[a]){var s="function"==typeof require&&require;if(!l&&s)return s(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,n,r){(function(t){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};(function(){function o(e){return e=String(e),e.charAt(0).toUpperCase()+e.slice(1)}function a(e,t,n){var r={6.4:"10",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&(r=r[/[\d.]+$/.exec(e)])&&(e="Windows "+r),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),e=s(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").split(" on ")[0])}function l(e,t){var n=-1,r=e?e.length:0;if("number"==typeof r&&r>-1&&r<=w)for(;++n<r;)t(e[n],n,e);else u(e,t)}function s(e){return e=p(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:o(e)}function u(e,t){for(var n in e)E.call(e,n)&&t(e[n],n,e)}function c(e){return null==e?o(e):k.call(e).slice(8,-1)}function b(e,t){var n=null!=e?i(e[t]):"number";return!(/^(?:boolean|number|string|undefined)$/.test(n)||"object"==n&&!e[t])}function d(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function f(e,t){var n=null;return l(e,function(r,i){n=t(n,r,i,e)}),n}function p(e){return String(e).replace(/^ +| +$/g,"")}function h(e){function t(t){return f(t,function(t,n){return t||RegExp("\\b"+(n.pattern||d(n))+"\\b","i").exec(e)&&(n.label||n)})}function n(t){return f(t,function(t,n,r){return t||(n[J]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(J)]||RegExp("\\b"+d(r)+"(?:\\b|\\w*\\d)","i").exec(e))&&r})}function r(t){return f(t,function(t,n){return t||RegExp("\\b"+(n.pattern||d(n))+"\\b","i").exec(e)&&(n.label||n)})}function o(t){return f(t,function(t,n){var r=n.pattern||d(n);return!t&&(t=RegExp("\\b"+r+"(?:/[\\d.]+|[ \\w.]*)","i").exec(e))&&(t=a(t,r,n.label||n)),t})}function l(t){return f(t,function(t,n){var r=n.pattern||d(n);return!t&&(t=RegExp("\\b"+r+" *\\d+[.\\w_]*","i").exec(e)||RegExp("\\b"+r+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(e))&&((t=String(n.label&&!RegExp(r,"i").test(n.label)?n.label:t).split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),n=n.label||n,t=s(t[0].replace(RegExp(r,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),t})}function S(t){return f(t,function(t,n){return t||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(e)||0)[1]||null})}function g(){return this.description||""}var y=m,v=e&&"object"==("undefined"==typeof e?"undefined":i(e))&&"String"!=c(e);v&&(y=e,e=null);var w=y.navigator||{},P=w.userAgent||"";e||(e=P);var E,W,C=v||M==x,B=v?!!w.likeChrome:/\bChrome\b/.test(e)&&!/internal|\n/i.test(k.toString()),I="Object",R=v?I:"ScriptBridgingProxyObject",T=v?I:"Environment",A=v&&y.java?"JavaPackage":c(y.java),F=v?I:"RuntimeObject",$=/\bJava/.test(A)&&y.java,G=$&&c(y.environment)==T,N=$?"a":"α",j=$?"b":"β",X=y.document||{},K=y.operamini||y.opera,_=O.test(_=v&&K?K["[[Class]]"]:c(K))?_:K=null,L=e,H=[],V=null,q=e==P,z=q&&K&&"function"==typeof K.version&&K.version(),D=t(["Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),U=r(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel",{label:"SRWare Iron",pattern:"Iron"},"K-Meleon","Konqueror","Lunascape","Maxthon","Midori","Nook Browser","PhantomJS","Raven","Rekonq","RockMelt","SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser","Sunrise","Swiftfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),J=l([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nook","PlayBook","PlayStation 4","PlayStation 3","PlayStation Vita","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),Z=n({Apple:{iPad:1,iPhone:1,iPod:1},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{"PlayStation 4":1,"PlayStation 3":1,"PlayStation Vita":1}}),Q=o(["Windows Phone ","Android","CentOS","Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);if(D&&(D=[D]),Z&&!J&&(J=l([Z])),(E=/\bGoogle TV\b/.exec(J))&&(J=E[0]),/\bSimulator\b/i.test(e)&&(J=(J?J+" ":"")+"Simulator"),"Opera Mini"==U&&/\bOPiOS\b/.test(e)&&H.push("running in Turbo/Uncompressed mode"),/^iP/.test(J)?(U||(U="Safari"),Q="iOS"+((E=/ OS ([\d_]+)/i.exec(e))?" "+E[1].replace(/_/g,"."):"")):"Konqueror"!=U||/buntu/i.test(Q)?Z&&"Google"!=Z&&(/Chrome/.test(U)&&!/\bMobile Safari\b/i.test(e)||/\bVita\b/.test(J))?(U="Android Browser",Q=/\bAndroid\b/.test(Q)?Q:"Android"):U&&!(E=!/\bMinefield\b|\(Android;/i.test(e)&&/\b(?:Firefox|Safari)\b/.exec(U))||(U&&!J&&/[\/,]|^[^(]+?\)/.test(e.slice(e.indexOf(E+"/")+8))&&(U=null),(E=J||Z||Q)&&(J||Z||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(Q))&&(U=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(Q)?Q:E)+" Browser")):Q="Kubuntu",(E=/\((Mobile|Tablet).*?Firefox\b/i.exec(e))&&E[1]&&(Q="Firefox OS",J||(J=E[1])),z||(z=S(["(?:Cloud9|CriOS|CrMo|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|Silk(?!/[\\d.]+$))","Version",d(U),"(?:Firefox|Minefield|NetFront)"])),"iCab"==D&&parseFloat(z)>3?D=["WebKit"]:"Trident"!=D&&(E=/\bOpera\b/.test(U)&&(/\bOPR\b/.test(e)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(e)&&"WebKit"||!D&&/\bMSIE\b/i.test(e)&&("Mac OS"==Q?"Tasman":"Trident"))?D=[E]:/\bPlayStation\b(?! Vita\b)/i.test(U)&&"WebKit"==D&&(D=["NetFront"]),"IE"==U&&(E=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(e)||0)[1])?(U+=" Mobile",Q="Windows Phone "+(/\+$/.test(E)?E:E+".x"),H.unshift("desktop mode")):/\bWPDesktop\b/i.test(e)?(U="IE Mobile",Q="Windows Phone 8+",H.unshift("desktop mode"),z||(z=(/\brv:([\d.]+)/.exec(e)||0)[1])):"IE"!=U&&"Trident"==D&&(E=/\brv:([\d.]+)/.exec(e))?(/\bWPDesktop\b/i.test(e)||(U&&H.push("identifying as "+U+(z?" "+z:"")),U="IE"),z=E[1]):"Chrome"!=U&&"IE"==U||!(E=/\bEdge\/([\d.]+)/.exec(e))||(U="Microsoft Edge",z=E[1],D=["Trident"]),q){if(b(y,"global"))if($&&(E=$.lang.System,L=E.getProperty("os.arch"),Q=Q||E.getProperty("os.name")+" "+E.getProperty("os.version")),C&&b(y,"system")&&(E=[y.system])[0]){Q||(Q=E[0].os||null);try{E[1]=y.require("ringo/engine").version,z=E[1].join("."),U="RingoJS"}catch(e){E[0].global.system==y.system&&(U="Narwhal")}}else"object"==i(y.process)&&(E=y.process)?(U="Node.js",L=E.arch,Q=E.platform,z=/[\d.]+/.exec(E.version)[0]):G&&(U="Rhino");else c(E=y.runtime)==R?(U="Adobe AIR",Q=E.flash.system.Capabilities.os):c(E=y.phantom)==F?(U="PhantomJS",z=(E=E.version||null)&&E.major+"."+E.minor+"."+E.patch):"number"==typeof X.documentMode&&(E=/\bTrident\/(\d+)/i.exec(e))&&(z=[z,X.documentMode],(E=+E[1]+4)!=z[1]&&(H.push("IE "+z[1]+" mode"),D&&(D[1]=""),z[1]=E),z="IE"==U?String(z[1].toFixed(1)):z[0]);Q=Q&&s(Q)}z&&(E=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(z)||/(?:alpha|beta)(?: ?\d)?/i.exec(e+";"+(q&&w.appMinorVersion))||/\bMinefield\b/i.test(e)&&"a")&&(V=/b/i.test(E)?"beta":"alpha",z=z.replace(RegExp(E+"\\+?$"),"")+("beta"==V?j:N)+(/\d+\+?/.exec(E)||"")),"Fennec"==U||"Firefox"==U&&/\b(?:Android|Firefox OS)\b/.test(Q)?U="Firefox Mobile":"Maxthon"==U&&z?z=z.replace(/\.[\d.]+/,".x"):"Silk"==U?(/\bMobi/i.test(e)||(Q="Android",H.unshift("desktop mode")),/Accelerated *= *true/i.test(e)&&H.unshift("accelerated")):/\bXbox\b/i.test(J)?(Q=null,"Xbox 360"==J&&/\bIEMobile\b/.test(e)&&H.unshift("mobile mode")):!/^(?:Chrome|IE|Opera)$/.test(U)&&(!U||J||/Browser|Mobi/.test(U))||"Windows CE"!=Q&&!/Mobi/i.test(e)?"IE"==U&&q&&null===y.external?H.unshift("platform preview"):(/\bBlackBerry\b/.test(J)||/\bBB10\b/.test(e))&&(E=(RegExp(J.replace(/ +/g," *")+"/([.\\d]+)","i").exec(e)||0)[1]||z)?(E=[E,/BB10/.test(e)],Q=(E[1]?(J=null,Z="BlackBerry"):"Device Software")+" "+E[0],z=null):this!=u&&"Wii"!=J&&(q&&K||/Opera/.test(U)&&/\b(?:MSIE|Firefox)\b/i.test(e)||"Firefox"==U&&/\bOS X (?:\d+\.){2,}/.test(Q)||"IE"==U&&(Q&&!/^Win/.test(Q)&&z>5.5||/\bWindows XP\b/.test(Q)&&z>8||8==z&&!/\bTrident\b/.test(e)))&&!O.test(E=h.call(u,e.replace(O,"")+";"))&&E.name&&(E="ing as "+E.name+((E=E.version)?" "+E:""),O.test(U)?(/\bIE\b/.test(E)&&"Mac OS"==Q&&(Q=null),E="identify"+E):(E="mask"+E,U=_?s(_.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(E)&&(Q=null),q||(z=null)),D=["Presto"],H.push(E)):U+=" Mobile",(E=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(e)||0)[1])&&(E=[parseFloat(E.replace(/\.(\d)$/,".0$1")),E],"Safari"==U&&"+"==E[1].slice(-1)?(U="WebKit Nightly",V="alpha",z=E[1].slice(0,-1)):z!=E[1]&&z!=(E[2]=(/\bSafari\/([\d.]+\+?)/i.exec(e)||0)[1])||(z=null),E[1]=(/\bChrome\/([\d.]+)/i.exec(e)||0)[1],537.36==E[0]&&537.36==E[2]&&parseFloat(E[1])>=28&&"IE"!=U&&"Microsoft Edge"!=U&&(D=["Blink"]),q&&(B||E[1])?(D&&(D[1]="like Chrome"),E=E[1]||(E=E[0],E<530?1:E<532?2:E<532.05?3:E<533?4:E<534.03?5:E<534.07?6:E<534.1?7:E<534.13?8:E<534.16?9:E<534.24?10:E<534.3?11:E<535.01?12:E<535.02?"13+":E<535.07?15:E<535.11?16:E<535.19?17:E<536.05?18:E<536.1?19:E<537.01?20:E<537.11?"21+":E<537.13?23:E<537.18?24:E<537.24?25:E<537.36?26:"Blink"!=D?"27":"28")):(D&&(D[1]="like Safari"),E=E[0],E=E<400?1:E<500?2:E<526?3:E<533?4:E<534?"4+":E<535?5:E<537?6:E<538?7:E<601?8:"8"),D&&(D[1]+=" "+(E+="number"==typeof E?".x":/[.+]/.test(E)?"":"+")),"Safari"==U&&(!z||parseInt(z)>45)&&(z=E)),"Opera"==U&&(E=/\bzbov|zvav$/.exec(Q))?(U+=" ",H.unshift("desktop mode"),"zvav"==E?(U+="Mini",z=null):U+="Mobile",Q=Q.replace(RegExp(" *"+E+"$"),"")):"Safari"==U&&/\bChrome\b/.exec(D&&D[1])&&(H.unshift("desktop mode"),U="Chrome Mobile",z=null,/\bOS X\b/.test(Q)?(Z="Apple",Q="iOS 4.3+"):Q=null),z&&0==z.indexOf(E=/[\d.]+$/.exec(Q))&&e.indexOf("/"+E+"-")>-1&&(Q=p(Q.replace(E,""))),D&&!/\b(?:Avant|Nook)\b/.test(U)&&(/Browser|Lunascape|Maxthon/.test(U)||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Sleipnir|Web)/.test(U)&&D[1])&&(E=D[D.length-1])&&H.push(E),H.length&&(H=["("+H.join("; ")+")"]),Z&&J&&J.indexOf(Z)<0&&H.push("on "+Z),J&&H.push((/^on /.test(H[H.length-1])?"":"on ")+J),Q&&(E=/ ([\d.+]+)$/.exec(Q),W=E&&"/"==Q.charAt(Q.length-E[0].length-1),Q={architecture:32,family:E&&!W?Q.replace(E[0],""):Q,version:E?E[1]:null,toString:function(){var e=this.version;return this.family+(e&&!W?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(E=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(L))&&!/\bi686\b/i.test(L)&&(Q&&(Q.architecture=64,Q.family=Q.family.replace(RegExp(" *"+E),"")),U&&(/\bWOW64\b/i.test(e)||q&&/\w(?:86|32)$/.test(w.cpuClass||w.platform)&&!/\bWin64; x64\b/i.test(e))&&H.unshift("32-bit")),e||(e=null);var Y={};return Y.description=e,Y.layout=D&&D[0],Y.manufacturer=Z,Y.name=U,Y.prerelease=V,Y.product=J,Y.ua=e,Y.version=U&&z,Y.os=Q||{architecture:null,family:null,version:null,toString:function(){return"null"}},Y.parse=h,Y.toString=g,Y.version&&H.unshift(z),Y.name&&H.unshift(U),Q&&U&&(Q!=String(Q).split(" ")[0]||Q!=U.split(" ")[0]&&!J)&&H.push(J?"("+Q+")":"on "+Q),H.length&&(Y.description=H.join(" ")),Y}var S={function:!0,object:!0},m=S["undefined"==typeof window?"undefined":i(window)]&&window||this,x=m,g=S["undefined"==typeof r?"undefined":i(r)]&&r,y=S["undefined"==typeof n?"undefined":i(n)]&&n&&!n.nodeType&&n,v=g&&y&&"object"==("undefined"==typeof t?"undefined":i(t))&&t;!v||v.global!==v&&v.window!==v&&v.self!==v||(m=v);var w=Math.pow(2,53)-1,O=/\bOpera/,M=this,P=Object.prototype,E=P.hasOwnProperty,k=P.toString;"function"==typeof e&&"object"==i(e.amd)&&e.amd?e(function(){return h()}):g&&y?u(h(),function(e,t){g[t]=e}):m.platform=h()}).call(void 0)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.attributes=void 0;var i=e("platform"),o=r(i),a=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return e.ignoreLocalhost!==!1&&(e.ignoreLocalhost=!0),e},l=function(e){return"localhost"===e||"127.0.0.1"===e||"::1"===e},s=n.attributes=function(){return{siteLocation:window.location.href,siteReferrer:document.referrer,siteTitle:document.title,siteLanguage:navigator.language.substr(0,2),screenWidth:screen.width,screenHeight:screen.height,screenColorDepth:screen.colorDepth,deviceName:o.default.product,deviceManufacturer:o.default.manufacturer,osName:o.default.os.family,osVersion:o.default.os.version,browserName:o.default.name,browserVersion:o.default.version,browserWidth:document.documentElement.clientWidth||window.outerWidth,browserHeight:document.documentElement.clientHeight||window.outerHeight}},u=function(e,t,n,r){var i=new XMLHttpRequest,o={data:{type:"records",attributes:n}};i.open(e,t),i.onload=function(){if(200===i.status||201===i.status){var e=null;try{e=JSON.parse(i.responseText)}catch(e){return r(new Error("Failed to parse response from server"))}r(null,e)}else r(new Error("Server returned with an unhandled status"))},i.setRequestHeader("Content-Type","application/json;charset=UTF-8"),i.send(JSON.stringify(o))},c=function(e,t,n,r,i){return i.ignoreLocalhost===!0&&l(location.hostname)===!0?console.warn("Ackee ignores you because you are on localhost"):void u("POST",e+"/users/"+t+"/domains/"+n+"/records",r,function(t,n){if(null!=t)throw t;var r=e+n.links.self;setInterval(function(){u("PATCH",r,null,function(e,t){if(null!=e)throw e})},5e3)})};n.create=function(e,t){var n=e.server,r=e.userId,i=e.domainId;t=a(t);var o=function(){var e=arguments.length<=0||void 0===arguments[0]?s():arguments[0];c(n,r,i,e,t)},l={record:o};return l}},{platform:1}]},{},[2])(2)});